#include QMK_KEYBOARD_H
#include "malob.h"

enum layer_names {
  _BASE,
  _RAISE,
  _LOWER,
};
#define KC_RAISE OSL(_RAISE)
#define KC_LOWER OSL(_LOWER)

// Note that `DACMAN_LAYOUT` macro prepends `KC_` to everything. Layout macro and some custom keycodes
// are defined in `malob.h` in from userspace.
const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  [_BASE] = DACMAN_LAYOUT(
//┏━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┓                              ┏━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┓
    TAB , Q   , W   , F   , P   , G   ,                                J   , L   , U   , Y   , SCLN, MINS,
//┠─────┼─────┼─────┼─────┼─────┼─────┨                              ┠─────┼─────┼─────┼─────┼─────┼─────┨
    ESC , A   , R   , S   , T   , D   ,                                H   , N   , E   , I   , O   , QUOT,
//┠─────┼─────┼─────┼─────┼─────┼─────┨                              ┠─────┼─────┼─────┼─────┼─────┼─────┨
   _____, Z   , X   , C   , V   , B   ,                                K   , M   , COMM, DOT , QUES,_____,
//┗━━━━━┷━━━━━╅─────┼─────╆━━━━━┷━━━━━┛                              ┗━━━━━┷━━━━━╅─────┼─────╆━━━━━┷━━━━━┛
               _____,_____,                                                       _____,_____,
//            ┗━━━━━┷━━━━━┛ ┏━━━━━┯━━━━━┯━━━━━┯━━━━━┓  ┏━━━━━┯━━━━━┯━━━━━┯━━━━━┓ ┗━━━━━┷━━━━━┛
                              ENT , SPC ,LOWER,_____,   _____,RAISE, BSPC, SHFT,
//                          ┗━━━━━┷━━━━━╅─────┼─────┨  ┠─────┼─────╆━━━━━┷━━━━━┛
                                          CMD , OPT ,    OPT , CTRL
//                                      ┗━━━━━┷━━━━━┛  ┗━━━━━┷━━━━━┛
  ),

  [_RAISE] = DACMAN_LAYOUT(
//┏━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┓                              ┏━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┓
    GRV , EXLM, AT  , HASH, DLR , PERC,                                CIRC, AMPR, ASTR, PIPE, COLN, UNDS,
//┠─────┼─────┼─────┼─────┼─────┼─────┨                              ┠─────┼─────┼─────┼─────┼─────┼─────┨
    TILD, LT  , LCBR, LBRC, LPRN, SLSH,                                BSLS, RPRN, RBRC, RCBR, GT  , DQUO,
//┠─────┼─────┼─────┼─────┼─────┼─────┨                              ┠─────┼─────┼─────┼─────┼─────┼─────┨
    EQL , 1   , 2   , 3   , 4   , 5   ,                                6   , 7   , 8   , 9   , 0   , PLUS,
//┗━━━━━┷━━━━━╅─────┼─────╆━━━━━┷━━━━━┛                              ┗━━━━━┷━━━━━╅─────┼─────╆━━━━━┷━━━━━┛
               _____,_____,                                                       _____,_____,
//            ┗━━━━━┷━━━━━┛ ┏━━━━━┯━━━━━┯━━━━━┯━━━━━┓  ┏━━━━━┯━━━━━┯━━━━━┯━━━━━┓ ┗━━━━━┷━━━━━┛
                             _____,_____,_____,_____,   _____,_____,_____,_____,
//                          ┗━━━━━┷━━━━━╅─────┼─────┨  ┠─────┼─────╆━━━━━┷━━━━━┛
                                         _____,_____,   _____,_____
//                                      ┗━━━━━┷━━━━━┛  ┗━━━━━┷━━━━━┛
  ),

  [_LOWER] = DACMAN_LAYOUT(
//┏━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┓                              ┏━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┯━━━━━┓
   RESET,_____,_____,_____,BDOWN, BUP ,                                DOWN, RGHT,VDOWN, VUP ,VMUTE, LCK ,
//┠─────┼─────┼─────┼─────┼─────┼─────┨                              ┠─────┼─────┼─────┼─────┼─────┼─────┨
    F1  , F2  , F3  , F4  , F5  , F6  ,                                LEFT,_____,PRTRK, PLAY,NXTRK,POWER,
//┠─────┼─────┼─────┼─────┼─────┼─────┨                              ┠─────┼─────┼─────┼─────┼─────┼─────┨
    F7  , F8  , F9  , F10 , F11 , F12 ,                                UP  ,_____,_____,_____,_____,_____,
//┗━━━━━┷━━━━━╅─────┼─────╆━━━━━┷━━━━━┛                              ┗━━━━━┷━━━━━╅─────┼─────╆━━━━━┷━━━━━┛
               _____,_____,                                                       _____,_____,
//            ┗━━━━━┷━━━━━┛ ┏━━━━━┯━━━━━┯━━━━━┯━━━━━┓  ┏━━━━━┯━━━━━┯━━━━━┯━━━━━┓ ┗━━━━━┷━━━━━┛
                             _____,_____,_____,_____,   _____,_____,_____,_____,
//                          ┗━━━━━┷━━━━━╅─────┼─────┨  ┠─────┼─────╆━━━━━┷━━━━━┛
                                         _____,_____,   _____,_____
//                                      ┗━━━━━┷━━━━━┛  ┗━━━━━┷━━━━━┛
  ),

};

void persistent_default_layer_set(uint16_t default_layer) {
  eeconfig_update_default_layer(default_layer);
  default_layer_set(default_layer);
}
// vim: foldmethod=marker
